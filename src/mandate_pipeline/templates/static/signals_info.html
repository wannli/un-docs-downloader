{% extends "base.html" %}

{% block title %}About — Semaphore{% endblock %}

{% block content %}
<!-- Header -->
<div class="mb-10">
    <h1 class="text-3xl font-bold text-gray-900 tracking-tight">About Semaphore</h1>
    <p class="mt-3 text-lg text-muted leading-relaxed max-w-2xl">
        Spotting mandate signals in resolutions of the UN General Assembly.
    </p>
</div>

<!-- Why "Semaphore"? -->
<div class="mb-12">
    <div class="border border-gray-200 rounded-lg p-6 bg-gray-50/50">
        <h2 class="text-xl font-semibold text-gray-900 mb-4">Why "Semaphore"?</h2>
        <p class="text-gray-700 leading-relaxed mb-4">
            In the age of steam, railway semaphore signals stood alongside the tracks — mechanical arms raised or lowered to tell approaching trains whether the line ahead was clear, cautioned, or blocked. A driver reading the semaphore at speed had to interpret a small set of well-defined positions to make a critical decision: proceed, slow down, or stop.
        </p>
        <p class="text-gray-700 leading-relaxed mb-4">
            That is surprisingly close to what this tool does. Every session, the General Assembly adopts hundreds of resolutions — long, formal texts that bury actionable mandates deep inside operative paragraphs. Semaphore reads those paragraphs and raises a flag when it spots language that signals a concrete follow-up: a report requested, a meeting convened, a process launched.
        </p>
        <p class="text-gray-700 leading-relaxed">
            Like its railway namesake, Semaphore doesn't decide what to do with the signal — it just makes sure you see it.
        </p>
    </div>
</div>

<!-- What are Signals? -->
<div class="mb-12">
    <h2 class="text-xl font-semibold text-gray-900 mb-4">What are Signals?</h2>
    <p class="text-gray-700 leading-relaxed mb-4">
        Signals are specific phrases in UN General Assembly documents that indicate a mandate, request, or procedural action. Semaphore scans the operative paragraphs of resolutions, draft proposals, and decisions, and flags every paragraph that contains one or more trigger phrases.
    </p>
    <p class="text-gray-700 leading-relaxed">
        Each signal corresponds to a category of action — requesting a report, scheduling a high-level event, establishing a consultative process, or placing something on a future agenda.
    </p>
</div>

<!-- Signal Types -->
<div class="mb-12">
    <h2 class="text-xl font-semibold text-gray-900 mb-6">Signal Types</h2>
    <div class="grid gap-6 md:grid-cols-2">
        {% for check in checks %}
        <div class="border rounded-lg p-5
            {% if check.signal == 'agenda' %}border-blue-200 bg-blue-50/30
            {% elif check.signal == 'PGA' %}border-purple-200 bg-purple-50/30
            {% elif check.signal == 'process' %}border-amber-200 bg-amber-50/30
            {% elif check.signal == 'report' %}border-green-200 bg-green-50/30
            {% elif check.signal == 'observer' %}border-slate-200 bg-slate-50/30
            {% else %}border-gray-200 bg-gray-50/30{% endif %}">
            <div class="flex items-center gap-2 mb-3">
                <span class="px-2.5 py-1 rounded text-sm font-semibold
                    {% if check.signal == 'agenda' %}bg-blue-100 text-blue-800
                    {% elif check.signal == 'PGA' %}bg-purple-100 text-purple-800
                    {% elif check.signal == 'process' %}bg-amber-100 text-amber-800
                    {% elif check.signal == 'report' %}bg-green-100 text-green-800
                    {% elif check.signal == 'observer' %}bg-slate-100 text-slate-800
                    {% else %}bg-gray-100 text-gray-800{% endif %}">
                    {{ check.signal }}
                </span>
            </div>
            <p class="text-sm text-gray-600 mb-3">
                {% if check.signal == 'agenda' %}
                Decisions about agenda items, scheduling of future consideration, or requests for inclusion in upcoming sessions.
                {% elif check.signal == 'PGA' %}
                References the President of the General Assembly, high-level meetings, interactive dialogues, or multistakeholder events.
                {% elif check.signal == 'process' %}
                Procedural arrangements: co-facilitators, co-chairs, or informal consultations.
                {% elif check.signal == 'report' %}
                Requests for reports from the Secretary-General or other bodies to the General Assembly.
                {% elif check.signal == 'observer' %}
                Granting of observer status to an entity.
                {% else %}
                Miscellaneous signal type.
                {% endif %}
            </p>
            <div class="mt-4">
                <p class="text-xs font-medium text-gray-500 uppercase tracking-wide mb-2">Trigger Phrases</p>
                <div class="flex flex-wrap gap-1.5">
                    {% for phrase in check.phrases %}
                    <span class="px-2 py-0.5 rounded text-xs
                        {% if check.signal == 'agenda' %}bg-blue-100 text-blue-700
                        {% elif check.signal == 'PGA' %}bg-purple-100 text-purple-700
                        {% elif check.signal == 'process' %}bg-amber-100 text-amber-700
                        {% elif check.signal == 'report' %}bg-green-100 text-green-700
                        {% elif check.signal == 'observer' %}bg-slate-100 text-slate-700
                        {% else %}bg-gray-100 text-gray-700{% endif %}">
                        {{ phrase }}
                    </span>
                    {% endfor %}
                </div>
            </div>
        </div>
        {% endfor %}
    </div>
</div>

<!-- How it works -->
<div class="mb-12">
    <h2 class="text-xl font-semibold text-gray-900 mb-4">How it Works</h2>
    <div class="bg-gray-50 rounded-lg p-6 border border-gray-200">
        <div class="space-y-4">
            <div class="flex gap-4">
                <div class="flex-shrink-0 w-8 h-8 rounded-full bg-un-blue text-white flex items-center justify-center text-sm font-semibold">1</div>
                <div>
                    <p class="font-medium text-gray-900">Discover</p>
                    <p class="text-sm text-gray-600">New resolutions and draft proposals are discovered automatically from the UN Official Document System.</p>
                </div>
            </div>
            <div class="flex gap-4">
                <div class="flex-shrink-0 w-8 h-8 rounded-full bg-un-blue text-white flex items-center justify-center text-sm font-semibold">2</div>
                <div>
                    <p class="font-medium text-gray-900">Extract</p>
                    <p class="text-sm text-gray-600">PDF documents are parsed and operative paragraphs — the numbered action items in the resolution body — are extracted.</p>
                </div>
            </div>
            <div class="flex gap-4">
                <div class="flex-shrink-0 w-8 h-8 rounded-full bg-un-blue text-white flex items-center justify-center text-sm font-semibold">3</div>
                <div>
                    <p class="font-medium text-gray-900">Detect</p>
                    <p class="text-sm text-gray-600">Each paragraph is scanned for trigger phrases. When a phrase matches, the corresponding signal is raised.</p>
                </div>
            </div>
            <div class="flex gap-4">
                <div class="flex-shrink-0 w-8 h-8 rounded-full bg-un-blue text-white flex items-center justify-center text-sm font-semibold">4</div>
                <div>
                    <p class="font-medium text-gray-900">Link</p>
                    <p class="text-sm text-gray-600">Resolutions are linked back to their source draft proposals, connecting adopted text to its committee of origin.</p>
                </div>
            </div>
            <div class="flex gap-4">
                <div class="flex-shrink-0 w-8 h-8 rounded-full bg-un-blue text-white flex items-center justify-center text-sm font-semibold">5</div>
                <div>
                    <p class="font-medium text-gray-900">Publish</p>
                    <p class="text-sm text-gray-600">Results are published here — filterable by session, signal type, and document type — updated automatically after each pipeline run.</p>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Configuration -->
<div class="mb-12">
    <h2 class="text-xl font-semibold text-gray-900 mb-4">Configuration</h2>
    <p class="text-gray-700 leading-relaxed mb-4">
        Signals are defined in <code class="px-1.5 py-0.5 bg-gray-100 rounded text-sm font-mono">config/checks.yaml</code>. Each entry has a <strong>signal</strong> name and a list of <strong>phrases</strong> to match. Matching is case-insensitive. A single paragraph can trigger multiple signals if it contains phrases from different categories.
    </p>
    <p class="text-gray-700 leading-relaxed">
        The pipeline runs on GitHub Actions — hourly for new documents, and on-demand for historical sessions.
    </p>
</div>

{% endblock %}

{% block footer %}
Generated {{ generated_at }} · <a href="/data.json" class="text-un-blue hover:underline">JSON API</a>
{% endblock %}
